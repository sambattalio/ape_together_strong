<!DOCTYPE html>
<html lang="en">

<head>
 <title>Ape Together Strong</title>
</head>

<body>
  <!--- Javscript for creation of chart -->
  <canvas id="exerciseChangeChart" width="800" height="400"></canvas>
  <script src= "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.js"></script>
  <script src = "script.js"></script>
  
  <h1>Ape Together Strong</h1>
  <!-- Table specification; subject to change -->
  <table>
    <tr>
      <th>Exercise</th>
      <th>Weight</th>
    </tr>
  </table>
  <br/>

  <!-- Form for POST in api -->
  <form action="/workout" method="post">
    Exercise:
    <input type="text" name="exercise">
    <br/> Weight:
    <input type="number" name="weight">
    <br/>
    <input type="submit" value="Submit">
  </form>

  <!--
      script to fetch list of workouts and display
   -->
  <script>
    workoutTable = document.querySelector("table")

    /*
      make get call to /workout (placeholder for our database)
    */
    fetch("/workout")
      .then(response => response.json())
      .then(workoutList => {
        workoutList.forEach(workout => {
          // Create the table row
          row = document.createElement("tr")

          // Create table data elements
          exercise = document.createElement("td")
          exercise.innerHTML = workout.exercise
          weight = document.createElement("td")
          weight.innerHTML = workout.weight

          // Add data elements to the row
          row.appendChild(exercise)
          row.appendChild(weight)
          // add row element to table
          workoutTable.appendChild(row)
        })
      })
  </script>
</body>
