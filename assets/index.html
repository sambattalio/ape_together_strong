<!DOCTYPE html>
<html lang="en">

<head>
 <title>Ape Together Strong</title>
 <link href="stylesheet.css" rel="stylesheet">
 <link rel="preconnect" href="https://fonts.gstatic.com">
 <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
 <style>
 body {
	font-family: 'Rubik', sans-serif;
 }
 </style>
</head>

<body>
  <h1 id="bodytitle"> Ape Together Strong </h1>
	
  <div class="flex-container">
		<div>
			<!--- Javscript for creation of chart -->
			<canvas id="exerciseChangeChart" width="800" height="400"></canvas>
			<script src= "https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.js"></script>
			<script src = "script.js"></script>
		</div>

		<div id="table">
			<!-- Table specification; subject to change -->
			<table>
			<tr>
			  <th>Exercise</th>
			  <th>Weight</th>
			</tr>
			</table>
			<br/>

			<!-- Form for POST in api -->
			<form action="/workout" method="post">
			Exercise:
			<input type="text" name="exercise">
			<br/> Weight:
			<input type="number" name="weight">
			<br/>
			<input type="submit" value="Submit">
			</form>
		</div>
	</div>

  <!--
      script to fetch list of workouts and display
   -->
  <script>
    workoutTable = document.querySelector("table")

    /*
      make get call to /workout (placeholder for our database)
    */
    fetch("/workout")
      .then(response => response.json())
      .then(workoutList => {
        workoutList.forEach(workout => {
          // Create the table row
          row = document.createElement("tr")

          // Create table data elements
          exercise = document.createElement("td")
          exercise.innerHTML = workout.exercise
          weight = document.createElement("td")
          weight.innerHTML = workout.weight

          // Add data elements to the row
          row.appendChild(exercise)
          row.appendChild(weight)
          // add row element to table
          workoutTable.appendChild(row)
        })
      })
  </script>
</body>
</html>